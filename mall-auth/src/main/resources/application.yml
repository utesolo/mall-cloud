spring:
  application:
    name: mall-auth
  profiles:
    active: local
  config:
    import: optional:nacos:${spring.application.name}.${spring.cloud.nacos.config.file-extension:yml}
  cloud:
    nacos:
      discovery:
        server-addr: ${nacos.server-addr:localhost:8848}
      config:
        server-addr: ${nacos.server-addr:localhost:8848}
        file-extension: yml

server:
  port: 8081

# Zipkin tracing configuration
management:
  tracing:
    sampling:
      probability: 0.1
  zipkin:
    tracing:
      endpoint: http://localhost:9411/api/v2/spans

# Custom tracing configuration - auth is important
tracing:
  enabled: true
  default-probability: 0.1
  important-probability: 1.0
  important-paths:
    - /auth/login
    - /auth/register
    - /auth/logout
  ignore-paths:
    - /actuator
    - /health

logging:
  level:
    xyh.dp.mall: debug
