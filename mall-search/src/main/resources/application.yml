spring:
  application:
    name: mall-search
  config:
    import: optional:nacos:${spring.application.name}.yml
  profiles:
    active: local
  cloud:
    nacos:
      discovery:
        server-addr: localhost:8848
      config:
        server-addr: localhost:8848
        file-extension: yml
  data:
    redis:
      host: localhost
      port: 6379
      database: 4
    elasticsearch:
      uris: https://localhost:9200
      username: elastic
      password: GyRI1IN9Yxb_6yAjsdx=
      connection-timeout: 5s
      socket-timeout: 60s

server:
  port: 8085

# Zipkin tracing configuration
management:
  tracing:
    sampling:
      probability: 0.1
  zipkin:
    tracing:
      endpoint: http://localhost:9411/api/v2/spans
  health:
    elasticsearch:
      enabled: false  # Disable ES health check to avoid SSL errors

# Custom tracing configuration
tracing:
  enabled: true
  default-probability: 0.1
  important-probability: 1.0
  important-paths:
    - /search
  ignore-paths:
    - /actuator
    - /health

logging:
  level:
    xyh.dp.mall: debug
